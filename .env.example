# DEVELOPMENT

APP_NAME="PGoldapp"
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=https://localhost

# SQLite Database
DB_CONNECTION=sqlite
DB_DATABASE=database/database.sqlite  # DEVELOPMENT


# Cache
CACHE_DRIVER=file
CACHE_STORE=database      

SESSION_DRIVER=database
QUEUE_CONNECTION=database

# CoinGecko
COINGECKO_API_KEY=
COINGECKO_CACHE_TTL=60

# Trading
TRADE_FEE_PERCENTAGE=1
MIN_BUY_AMOUNT=5000
MIN_SELL_AMOUNT=2000
LOG_LEVEL=debug             # DEVELOPMENT - Keep debug for more verbose logging






# # PRODUCTION
# APP_NAME=pgoldapi
# APP_ENV=production     
# APP_KEY=
# APP_DEBUG=true
# # APP_URL=https://pgoldapi.onrender.com  # Productionq URL
# APP_URL=http://localhost # Development URL



# # Database - SQLite
# DB_CONNECTION=sqlite
# # DB_DATABASE=/app/database/database.sqlite  # PRODUCTION
# DB_DATABASE=database/database.sqlite  # DEVELOPMENT



# # Trading Settings 
# TRADE_FEE_PERCENTAGE=1
# MIN_BUY_AMOUNT=5000
# MIN_SELL_AMOUNT=2000

# # CoinGecko 
# COINGECKO_API_KEY=your_api_key_here
# COINGECKO_CACHE_TTL=60

# # Session/Cache 
# SESSION_DRIVER=file         # PRODUCTION - Use file for Render (simpler)

# CACHE_STORE=file            # PRODUCTION - Use file for Render (simpler)


# QUEUE_CONNECTION=sync   # PRODUCTION 


# LOG_CHANNEL=stack
# LOG_LEVEL=warning           # PRODUCTION - Change from debug to warning for less verbose logging



# Generate APP_KEY and add to environment
php artisan key:generate --show
# Copy this key and add to Render environment variables as APP_KEY

# Run migrations
php artisan migrate --force

# Seed database (optional)
php artisan db:seed --force

# Set permissions
chmod 666 database/database.sqlite
chmod -R 777 storage/
chmod -R 777 bootstrap/cache/